<!--
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "org/apache/ibatis/builder/xml/mybatis-3-mapper.dtd">
<mapper namespace="com.solvd.app.dao.IRepairDAO">
    <select id="getEntityById" resultMap="repairResultMap" resultType="com.solvd.app.models.Repair">
        SELECT * FROM RepairService.Repairs WHERE RepairID = #{id}
    </select>
    <insert id="createEntity" useGeneratedKeys="true" keyProperty="id" parameterType="com.solvd.app.models.Repair">
        INSERT INTO RepairService.Repairs (customerId, employeeId, serviceId, deviceId, RepairDate)
        VALUES (#{customerId}, #{employeeId}, #{serviceId}, #{deviceId}, #{RepairDate})
    </insert>
    <update id="updateEntity" parameterType="com.solvd.app.models.Repair">
        UPDATE repairs
        SET device = #{device}, description = #{description}, cost = #{cost}
        WHERE id = #{id}
    </update>
    <delete id="removeById" parameterType="int">
        DELETE FROM repairs WHERE id = #{id}
    </delete>
    <resultMap id="repairResultMap" type="com.solvd.app.models.Repair" autoMapping="false">
        <result column="repairId" property="id"/>
        <result column="customerId" property="customerId"/>
        <collection property="employees" resultMap="com.solvd.app.dao.mysql.EmployeeDAO.employeeResultMap"/>
        <collection property="services" resultMap="com.solvd.app.dao.mysql.EmployeeDAO.serviceResultMap"/>
    </resultMap>
</mapper>
-->

